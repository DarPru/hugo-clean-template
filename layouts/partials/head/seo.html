{{- $.Scratch.Set "image" "" -}}
{{- if .Params.image  -}}
{{- $.Scratch.Set "image" (.Params.image | absURL) -}}
{{- else -}}
{{- $.Scratch.Set "image" (.Site.Params.logo | absURL) -}}
{{- end -}}

<link rel="canonical" href="{{.Permalink}}" />
<meta name="description" content="{{ $.Scratch.Get "description" }}" />
<meta property="og:locale" content="{{.Language.Lang }}" />
{{- if .IsHome }}
<meta property="og:type" content="website" />
{{- else }}
<meta property="og:type" content="article" />
{{- end }}
<meta property="og:title" content="{{ $.Scratch.Get "title" }}" />
<meta property="og:description" content="{{ $.Scratch.Get "description" }}" />
<meta property="og:url" content="{{.Permalink}}" />
<meta property="og:site_name" content="{{.Site.Params.sitename}}" />
<meta property="article:published_time" content="{{.PublishDate}}" />
<meta property="article:modified_time" content="{{.Lastmod}}" />
<meta property="og:image" content="{{$.Scratch.Get "image"}}" />
{{- with resources.GetMatch ($.Scratch.Get "image" | relURL) -}}
{{- $image_obj := . }}
<meta property="og:image:width" content="{{$image_obj.Width}}" />
<meta property="og:image:height" content="{{$image_obj.Height}}" />
{{end}}
<meta property="og:image:secure_url" content="{{$.Scratch.Get "image" }}">
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="{{ $.Scratch.Get "title"  }}">
<meta name="twitter:description" content="{{ $.Scratch.Get "description"}}">
<meta name="twitter:image" content="{{ .Site.Params.twitter_img | absURL }}">